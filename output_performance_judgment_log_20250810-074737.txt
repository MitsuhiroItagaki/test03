================================================================================
ğŸ“Š é‡ã¿ä»˜ã‘ã‚·ã‚¹ãƒ†ãƒ è©³ç´°åˆ†æãƒ­ã‚°
================================================================================

ğŸ“‚ å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«:
   Original SQL file           : output_original_query_20250810-074554.sql
   Original EXPLAIN COST file  : output_explain_cost_original_performance_check_20250810-074637.txt
   Optimized EXPLAIN COST file : output_explain_cost_optimized_attempt_3_20250810-074736.txt

ğŸ¯ ãƒ¡ãƒˆãƒªã‚¯ã‚¹é‡ã¿è¨­å®š:
   Data Processing                : 25.00% (0.250)
   Operation Complexity           : 20.00% (0.200)
   Memory Efficiency              : 20.00% (0.200)
   Spill Management               : 15.00% (0.150)
   Parallelism                    : 12.00% (0.120)
   Partitioning Efficiency        : 8.00% (0.080)

ğŸ“Š ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¯”ç‡åˆ†æ:
   Data Processing           : 1.0000 (+0.0%)
   Operation Complexity      : 0.8333 (-16.7%)
   Memory Efficiency         : 0.8061 (-19.4%)
   Spill Management          : 0.7522 (-24.8%)
   Parallelism               : 1.0000 (+0.0%)
   Partitioning Efficiency   : 0.2000 (-80.0%)

ğŸ§® æœ€çµ‚åˆ¤å®šè¨ˆç®—:
   åŸºæœ¬ç·åˆæ¯”ç‡       : 0.8267
   ã‚¹ãƒ”ãƒ«èª¿æ•´ä¿‚æ•°     : 1.000
   æœ€çµ‚ç·åˆæ¯”ç‡       : 0.8267
   æœ€çµ‚æ”¹å–„ç‡         : +17.33%

ğŸ¯ æœ€çµ‚åˆ¤å®šçµæœ:
   åˆ¤å®šãƒ¬ãƒ™ãƒ«         : âœ… é‡è¦æ”¹å–„ (SIGNIFICANT)
   æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³     : æœ€é©åŒ–ã‚¯ã‚¨ãƒªã‚’æ¨å¥¨
   åˆ¤å®šæ ¹æ‹            : æœ€çµ‚æ¯”ç‡ 0.8267 ã«ã‚ˆã‚‹åˆ¤å®š

ğŸ“‹ è©³ç´°ãƒ¡ãƒˆãƒªã‚¯ã‚¹:
   Data Size Ratio           : 1.0000 (+0.0%)
   Rows Ratio                : 1.0000 (+0.0%)
   Scan Ratio                : 1.0000 (+0.0%)
   Join Ratio                : 0.6667 (-33.3%)
   Memory Ratio              : 1.0000 (+0.0%)
   Spill Risk Ratio          : 0.6768 (-32.3%)
   Estimated Spill Ratio     : 0.6304 (-37.0%)
   Memory Pressure Ratio     : 0.6667 (-33.3%)
   Spill Probability Ratio   : 1.0000 (+0.0%)
   Shuffle Ratio             : 1.0000 (+0.0%)
   Hash Partition Ratio      : 0.0000 (-100.0%)
   Total Partition Ratio     : 0.0002 (-100.0%)

ğŸ§¾ åˆ¤å®šå¯¾è±¡ã‚¯ã‚¨ãƒª:

ã€å…ƒã‚¯ã‚¨ãƒªã€‘
-- ğŸ“‹ ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¯ã‚¨ãƒªï¼ˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æŠ½å‡ºï¼‰
-- æŠ½å‡ºæ—¥æ™‚: 2025-08-10 07:45:54
-- ãƒ•ã‚¡ã‚¤ãƒ«: output_original_query_20250810-074554.sql
-- ã‚¯ã‚¨ãƒªæ–‡å­—æ•°: 163

-- ğŸ—‚ï¸ ã‚«ã‚¿ãƒ­ã‚°ãƒ»ã‚¹ã‚­ãƒ¼ãƒè¨­å®šï¼ˆè‡ªå‹•è¿½åŠ ï¼‰
USE CATALOG tpcds;
USE SCHEMA tpcds_sf1000_delta_lc;

-- ğŸ” ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¯ã‚¨ãƒª
SELECT /*+ SHUFFLE_HASH(T2) */
  T1.ID, 
  T2.val,
  T1.cs_net_paid
FROM detail_itagaki as T1
JOIN master_itagaki as T2
  ON T1.ID = T2.ID
ORDER BY 2 desc
limit 10

ã€æœ€é©åŒ–ã‚¯ã‚¨ãƒªã€‘
SELECT /*+ SHUFFLE_HASH(T2) */
  T1.ID, 
  T2.val,
  T1.cs_net_paid
FROM detail_itagaki as T1
JOIN master_itagaki as T2
  ON T1.ID = T2.ID
ORDER BY T2.val DESC
LIMIT 10
